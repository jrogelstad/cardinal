[ 
    {
        "name": "Node",
        "plural": "Nodes",
        "module": "Cardinal",
        "description": "Base class for hiearchy support",
        "properties": {
            "code": {
                "description": "Natural key",
                "type": "string",
                "isUnique": true,
                "isRequired": true
            },
            "description": {
                "description": "Description",
                "type": "string"
            },
            "note": {
                "description": "Note",
                "type": "string"
            },
            "type": {
                "description": "Node type",
                "type": "string",
                "default": "Asset"
            }
        }
    },
    {
        "name": "NodeBalance",
        "plural": "NodeBalance",
        "module": "Cardinal",
        "description": "Current quantity of objects in containers",
        "properties": {
            "node": {
                "description": "Node quantified",
                "type": {
                    "relation": "Node",
                    "properties": ["code", "description"]
                }
            },
            "container": {
                "description": "Node containing quantity",
                "type": {
                    "relation": "Node",
                    "properties": ["code", "description"]
                }
            },
            "balance": {
                "description": "Current quantity",
                "type": "number"
            }
        }
    },
    {
        "name": "Period",
        "plural": "Periods",
        "module": "Cardinal",
        "description": "Base class for bucketed time period support",
        "properties": {
            "name": {
                "description": "Name",
                "type": "string"
            },
            "start": {
                "description": "Start date",
                "type": "string",
                "format": "date"
            },
            "end": {
                "description": "End date",
                "type": "string",
                "format": "date"
            },
            "isFrozen": {
                "description": "Period is frozen for transactions.",
                "type": "boolean"
            },
            "isClosed": {
                "description": "Period is closed.",
                "type": "boolean"
            }
        }
    },
    {
        "name": "NodePeriodBalance",
        "plural": "NodePeriodBalance",
        "module": "Cardinal",
        "inherits": "NodeBalance",
        "description": "Quantity of objects in containers per period",
        "properties": {
            "period": {
                "description": "Period",
                "type": {
                    "relation": "Period",
                    "properties": ["name", "start", "end"]
                }
            },
            "debits": {
                "description": "Sum of debits in the period",
                "type": "number"
            },
            "credits": {
                "description": "Sum of credits in the period",
                "type": "number"
            }
        }
    },
    {
        "name": "Action",
        "plural": "Action",
        "module": "Cardinal",
        "description": "Abstract action",
        "properties": {
            "node": {
                "description": "Object action is taken on",
                "type": {
                    "relation": "Node",
                    "properties": ["code", "description"]
                }
            },
            "date": {
                "description": "Action date",
                "type": "string",
                "format": "date"
            },
            "note": {
                "description": "Note",
                "type": "string"
            }
        }
    },
    {
        "name": "Distribution",
        "plural": "Distributions",
        "module": "Cardinal",
        "description": "Action distribution",
        "properties": {
            "parent": {
                "description": "Parent",
                "type": {
                    "relation": "Action",
                    "childOf": "distributions"
                }
            },
            "container": {
                "description": "Object container",
                "type": {
                    "relation": "Node",
                    "properties": ["code", "description"]
                }
            },
            "quantity": {
                "description": "Quantity",
                "type": "number"
            },
            "isPropagation": {
                "description": "Propagation flag",
                "type": "boolean"
            }
        }
    },
    {
        "name": "Request",
        "plural": "Requests",
        "module": "Cardinal",
        "description": "Action request",
        "inherits": "Action",
        "properties": {
            "isPosted": {
                "description": "Transaction is complete",
                "type": "boolean",
                "default": false
            }
        }
    },
    {
        "name": "Transaction",
        "plural": "Transactions",
        "module": "Cardinal",
        "description": "Action history",
        "inherits": "Action",
        "properties": {
            "parent": {
                "description": "Parent action",
                "type": {
                    "relation": "Request",
                    "properties": ["id"]
                }
            }
        }
    }
]
